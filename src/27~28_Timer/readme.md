# 1.timerfd
其实就是将一个```fd```作为定时的闹钟--到了时间之后就向```fd```中写入数据。这样就可以将该定时事件放入```poller```中一起监听了。

# 2.TimerQueue
我们维护了一个以到期时间从小到大排序的```TimerQueue```，本质上是一个```set```。当插入一个```timer```时，会检查它是否是时间最小的（空队列或者队列中它的到期时间最近）；如果是，那么会重新设置```timerfd```的时间————换句话说，```timerfd```只负责唤醒队列中到期时间最近的```timer```。

设定的时间一到，```poller```会返回有事件发生的```Channel```，```EventLoop```会调用```timerfdChannel```的回调函数。其中：
* 1. TimerQueue会取出所有到期的定时器（有可能同时有多个），依次执行其注册的回调函数；
* 2. 执行完后，如果这些定时器有需要重复并且没有被取消的，就会重新计算时间并且插入；否则被移除。
* 3. 然后会获取队列中下一个最近的超时时间，重新设置```timerfd```；如此周而复始。